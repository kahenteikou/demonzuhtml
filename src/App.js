import React from "react";
class DemonsGrid extends React.Component{
  constructor(props){
    super(props)
  }
  
  render(){
    return(
      <table style={{background:"#000000"}}>
        {this.props.colors.map((color, i) => 
        <tr>
          {color.map((color, i) =>
          <td style={{background:color,width:"2vw",height:"2vw"}}></td>)}
        </tr>
        )}
      </table>
    )
  }
}
class App extends React.Component{
  constructor(props){
    super(props)
    this.state = {
      colors: [["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
      ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]]
    };
    this.btclicked=this.btclicked.bind(this);
  }
  render(){
    return(
      <div>ちんちん<DemonsGrid colors={this.state.colors}>
      </DemonsGrid>
      <button onClick={this.btclicked}></button></div>
    );
  }
  btclicked(){
    const sleep = msec => new Promise(resolve => setTimeout(resolve, msec));

(async () => {
  
  this.setState(prevstate=>({
    colors: [["#f2ff1e","#f2ff1e","#f2ff1e","#013ef8","#013ef8","#f2ff1e","#f2ff1e","#f2ff1e"],
    ["#f2ff1e","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#f2ff1e"],
    ["#f2ff1e","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#f2ff1e"],
    ["#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8"],
    ["#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8"],
    ["#f2ff1e","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#f2ff1e"],
    ["#f2ff1e","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#f2ff1e"],
    ["#f2ff1e","#f2ff1e","#f2ff1e","#013ef8","#013ef8","#f2ff1e","#f2ff1e","#f2ff1e"]]
  }));
  await sleep(500);
  this.setState(prevstate=>({
    colors: [["#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8"],
    ["#013ef8","#f2ff1e","#f2ff1e","#013ef8","#013ef8","#f2ff1e","#f2ff1e","#013ef8"],
    ["#013ef8","#f2ff1e","#013ef8","#013ef8","#013ef8","#013ef8","#f2ff1e","#013ef8"],
    ["#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8"],
    ["#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8"],
    ["#013ef8","#f2ff1e","#013ef8","#013ef8","#013ef8","#013ef8","#f2ff1e","#013ef8"],
    ["#013ef8","#f2ff1e","#f2ff1e","#013ef8","#013ef8","#f2ff1e","#f2ff1e","#013ef8"],
    ["#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8","#013ef8"]]
  }));
  await sleep(500);
  this.setState(prevState =>({
    colors:[["#000000","#013ef8","#000000","#000000","#000000","#000000","#013ef8","#000000"],
    ["#013ef8","#000000","#000000","#FF00FF","#FF00FF","#000000","#000000","#013ef8"],
    ["#013ef8","#000000","#ff0b00","#ff0b00","#ff0b00","#ff0b00","#000000","#013ef8"],
    ["#000000","#013ef8","#FF00FF","#FF00FF","#FF00FF","#FF00FF","#013ef8","#000000"],
    ["#013ef8","#000000","#000000","#ff0b00","#ff0b00","#000000","#000000","#013ef8"],
    ["#000000","#013ef8","#f2ff1e","#FF00FF","#FF00FF","#f2ff1e","#013ef8","#000000"],
    ["#013ef8","#000000","#013ef8","#000000","#000000","#013ef8","#000000","#013ef8"],
    ["#013ef8","#000000","#013ef8","#000000","#000000","#013ef8","#000000","#013ef8"]]
  }));
  await sleep(1000);
  this.setState(prevstate=>({
    colors: [["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"],
    ["#000000","#000000","#000000","#000000","#000000","#000000","#000000","#000000"]]
  }));
})();
  }
}

export default App;